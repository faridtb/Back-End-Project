@model Order

@{
    int count = 0;
}

<main style="margin-top:50px;" role="main" class="main-content">
    <div class="container-fluid">
        <div class="row justify-content-center">
            <div class="col-12 col-lg-10 col-xl-8">
                <div class="row align-items-center mb-4">
                    <div class="col">
                        <h2 class="h5 page-title"><small class="text-muted text-uppercase">Invoice</small><br />#@Model.InvoiceNo</h2>
                    </div>
                    <div class="col-auto">
                        <button type="button" class="btn btn-primary">Pay</button>
                        <a asp-controller="order" asp-action="orders" class="btn btn-secondary">>Back to My Orders</a>
                    </div>
                </div>
                <div class="card shadow">
                    <div class="card-body p-5">
                        <div class="row mb-5">
                            <div class="col-12 text-center mb-4">
                                <h3 style="color:dodgerblue;">F.B</h3>
                                <h2 class="mb-0 text-uppercase">Invoice</h2>
                                <p class="text-muted">Baku<br />Nasimi district,4 mkr,building 3/1.</p>
                            </div>
                            <div class="col-md-7">
                                <p class="small text-muted text-uppercase mb-2">Invoice from</p>
                                <p class="mb-4">
                                    <strong>Farid</strong><br />CEO<br /> Nasimi district,4 mkr,building 3/1.<br />(050) 568-3810<br />
                                </p>
                                <p>
                                    <span class="small text-muted text-uppercase">Invoice #</span><br />
                                    <strong>@Model.InvoiceNo</strong>
                                </p>
                            </div>
                            <div class="col-md-5">
                                <p class="small text-muted text-uppercase mb-2">Invoice to</p>
                                <p class="mb-4">
                                    <strong>@Model.User.Name @Model.User.Surname</strong><br /> @Model.Address / @Model.City <br />@Model.Country<br /> @Model.Phone<br />
                                </p>
                                <p>
                                    <small class="small text-muted text-uppercase">Due date</small><br />
                                    <strong>@Model.CreatedAt.Value.Date.AddDays(15)</strong>
                                </p>
                            </div>
                        </div>  
                        <table class="table table-borderless table-striped">
                            <thead>
                                <tr>
                                    <th scope="col">#</th>
                                    <th scope="col">Description</th>
                                    <th scope="col" class="text-right">Rate</th>
                                    <th scope="col" class="text-right">Hours</th>
                                    <th scope="col" class="text-right">Ammout</th>
                                </tr>
                            </thead>
                            <tbody>
                                @foreach (var item in Model.OrderItems)
                                {
                                    count++;
                                    <tr>
                                        <th scope="row">@count</th>
                                        <td>
                                            @item.Product.Name<br />
                                        </td>
                                        <td class="text-right">$@item.ProductPrice</td>
                                        <td class="text-right">@item.ProductCount</td>
                                        <td class="text-right">$@(item.ProductPrice * item.ProductCount)</td>
                                    </tr>
                                }
                            </tbody>
                        </table>
                        <div class="row mt-5">
                            <div class="col-2 text-center">
                                <img src="~/admin/assets/images/qrcode.svg" class="navbar-brand-img brand-sm mx-auto my-4" alt="...">
                            </div>
                            <div class="col-md-5">
                                <p class="text-muted small">
                                    <strong>Note :</strong>Thank your to choose us <br/>Best Regards, Farid Baliyev - CEO
                                </p>
                            </div>
                            <div class="col-md-5">
                                <div class="text-right mr-2">
                                    <p class="mb-2 h6">
                                        <span class="text-muted">Subtotal : </span>
                                        <strong>$@Model.TotalPrice</strong>
                                    </p>
                                    <p class="mb-2 h6">
                                        <span class="text-muted">Shipping( + EDV) (10%) : </span>
                                        <strong>$@(Model.TotalPrice*0.1)</strong>
                                    </p>
                                    <p class="mb-2 h6">
                                        <span class="text-muted">Total : </span>
                                        <span>$@(Model.TotalPrice*1.1)</span>
                                    </p>
                                </div>
                            </div>
                        </div> 
                    </div>  
                </div>  
            </div> 
        </div>  
    </div>  
</main>  
